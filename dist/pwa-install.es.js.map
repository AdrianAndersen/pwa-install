{"version":3,"file":"pwa-install.es.js","mappings":"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","sources":["webpack://@khmyznikov/pwa-install/webpack/runtime/load script","webpack://@khmyznikov/pwa-install/./src/localization/index.ts","webpack://@khmyznikov/pwa-install/./src/localization/locale-codes.ts","webpack://@khmyznikov/pwa-install/./src/localization/ lazy ^\\.\\/.*\\.ts$ namespace object","webpack://@khmyznikov/pwa-install/external module \"@lit/localize\"","webpack://@khmyznikov/pwa-install/webpack/bootstrap","webpack://@khmyznikov/pwa-install/webpack/runtime/define property getters","webpack://@khmyznikov/pwa-install/webpack/runtime/ensure chunk","webpack://@khmyznikov/pwa-install/webpack/runtime/get javascript chunk filename","webpack://@khmyznikov/pwa-install/webpack/runtime/hasOwnProperty shorthand","webpack://@khmyznikov/pwa-install/webpack/runtime/make namespace object","webpack://@khmyznikov/pwa-install/webpack/runtime/publicPath","webpack://@khmyznikov/pwa-install/webpack/runtime/jsonp chunk loading","webpack://@khmyznikov/pwa-install/external module \"lit\"","webpack://@khmyznikov/pwa-install/external module \"lit/decorators.js\"","webpack://@khmyznikov/pwa-install/./src/types/types.ts","webpack://@khmyznikov/pwa-install/./src/gallery/styles-gallery.scss","webpack://@khmyznikov/pwa-install/./src/gallery/template-gallery.ts","webpack://@khmyznikov/pwa-install/./src/gallery/index.ts","webpack://@khmyznikov/pwa-install/./src/templates/chrome/bottom-sheet/template-bottom-sheet.ts","webpack://@khmyznikov/pwa-install/./src/templates/chrome/bottom-sheet/index.ts","webpack://@khmyznikov/pwa-install/./src/utils.ts","webpack://@khmyznikov/pwa-install/./src/templates/chrome/styles.scss","webpack://@khmyznikov/pwa-install/./src/templates/apple/styles-apple.scss","webpack://@khmyznikov/pwa-install/external module \"lit/directives/class-map.js\"","webpack://@khmyznikov/pwa-install/./src/templates/chrome/template.ts","webpack://@khmyznikov/pwa-install/./src/templates/apple/template-apple.ts","webpack://@khmyznikov/pwa-install/./src/index.ts"],"sourcesContent":["var inProgress = {};\nvar dataWebpackPrefix = \"@khmyznikov/pwa-install:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\t\tscript.type = \"module\";\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import { configureLocalization } from '@lit/localize';\r\nimport {\r\n\tsourceLocale,\r\n\ttargetLocales,\r\n} from './locale-codes';\r\n\r\nexport const { getLocale, setLocale } = configureLocalization({\r\n\tsourceLocale,\r\n\ttargetLocales,\r\n\tloadLocale: (lang: string) =>\r\n\t\timport(`./${lang}.ts`),\r\n});\r\n\r\nexport const changeLocale = (lang: string) => {\r\n\ttry {\r\n\t\tsetLocale(lang.slice(0,2));\r\n\t}\r\n\tcatch {\r\n\t\tconsole.warn(`pwa-install: translation error - unsupported locale: ${lang}`);\r\n\t}\r\n};\r\n","// Do not modify this file by hand!\n// Re-generate this file by running lit-localize.\n\n/**\n * The locale code that templates in this source code are written in.\n */\nexport const sourceLocale = `en`;\n\n/**\n * The other locale codes that this application is localized into. Sorted\n * lexicographically.\n */\nexport const targetLocales = [\n  `ru`,\n] as const;\n\n/**\n * All valid project locale codes. Sorted lexicographically.\n */\nexport const allLocales = [\n  `en`,\n  `ru`,\n] as const;\n","var map = {\n\t\"./index.ts\": [\n\t\t755\n\t],\n\t\"./locale-codes.ts\": [\n\t\t189\n\t],\n\t\"./ru.ts\": [\n\t\t41,\n\t\t41\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 438;\nmodule.exports = webpackAsyncContext;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = x({ [\"configureLocalization\"]: () => __WEBPACK_EXTERNAL_MODULE__lit_localize_dccaed14__.configureLocalization, [\"localized\"]: () => __WEBPACK_EXTERNAL_MODULE__lit_localize_dccaed14__.localized, [\"msg\"]: () => __WEBPACK_EXTERNAL_MODULE__lit_localize_dccaed14__.msg });","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".pwa-install.es.js\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_khmyznikov_pwa_install\"] = self[\"webpackChunk_khmyznikov_pwa_install\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"LitElement\"]: () => __WEBPACK_EXTERNAL_MODULE_lit__.LitElement, [\"css\"]: () => __WEBPACK_EXTERNAL_MODULE_lit__.css, [\"html\"]: () => __WEBPACK_EXTERNAL_MODULE_lit__.html });","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"customElement\"]: () => __WEBPACK_EXTERNAL_MODULE_lit_decorators_js_226d44c5__.customElement, [\"property\"]: () => __WEBPACK_EXTERNAL_MODULE_lit_decorators_js_226d44c5__.property });","export interface IChoiceResult {\n    outcome: 'accepted' | 'dismissed';\n    platform: string;\n}\n\nexport interface IBeforeInstallPromptEvent extends Event {\n    platforms: string;\n    userChoice: Promise<IChoiceResult>;\n    prompt: () => {};\n}\n\nexport interface IRelatedApp {\n    id: string,\n    platform: string,\n    url: string\n}\n\nexport interface IWindow extends Window {\n    deferredEvent: IBeforeInstallPromptEvent | null;\n}\n\nexport interface IPWAIcon {\n    src: string;\n}\n\nexport interface IManifest {\n    short_name: string;\n    name: string;\n    description: string;\n    icons: IPWAIcon[];\n    screenshots?: IPWAIcon[] | null;\n}\n\nexport class Manifest {\n    constructor() {\n        this.icons = [{ src: '' }];\n        this.screenshots = null;\n        this.short_name = 'PWA';\n        this.name = 'Progressive web application';\n        this.description = 'Progressive web application';\n    }\n    short_name: string;\n    icons: IPWAIcon[];\n    screenshots: IPWAIcon[] | null;\n    name: string;\n    description: string;\n}\n","import {css} from 'lit'; export default css`.gallery{position:relative;--scrollbar-background-color:#fff;--nav-btn-background-color:#fff;--nav-btn-fill-color:#141414}.gallery .gallery_scroller{scroll-snap-type:x mandatory;overflow-x:auto;overflow-y:hidden;display:flex;align-items:center;padding:10px 13px;padding-bottom:10px;margin:0 10px;-webkit-overflow-scrolling:touch}.gallery .gallery_scroller img{border-radius:6px;max-height:45vh;box-shadow:0 3px 10px 0 rgba(0,0,0,.15);scroll-snap-align:center;scroll-snap-stop:always;position:relative}.gallery .gallery_scroller img+img{margin-left:15px}.gallery .gallery_scroller::-webkit-scrollbar{width:4px;height:4px}.gallery .gallery_scroller::-webkit-scrollbar-thumb{background:#929292;border-radius:4px}.gallery .gallery_scroller::-webkit-scrollbar-thumb:hover{background:#646464}.gallery .gallery_scroller::-webkit-scrollbar-track{background:var(--scrollbar-background-color);border-radius:4px}.gallery .gallery_scroller .scroller_wrap{display:flex;flex-direction:row;padding-right:13px}.gallery .btn{position:absolute;display:flex;align-items:center;user-select:none;top:50%;transform:translateY(-50%);height:30px;width:30px;border-radius:50%;background-color:var(--nav-btn-background-color);box-shadow:rgba(0,0,0,.3) 2px 4px 7px 1px;background-repeat:no-repeat;z-index:1}.gallery .btn.prev{left:5px}.gallery .btn.prev svg{margin-left:4px}.gallery .btn.next{right:5px}.gallery .btn.next svg{margin-left:6px}.gallery .btn:hover{box-shadow:rgba(0,0,0,.5) 2px 4px 7px 1px;cursor:pointer}.gallery .btn:hover svg{opacity:.7}.gallery .btn svg{width:20px;height:20px;opacity:.5}.gallery .btn svg path{fill:var(--nav-btn-fill-color)}@media(hover:none)and (pointer:coarse){.gallery .btn.next,.gallery .btn.prev{display:none}.gallery_scroller::-webkit-scrollbar{display:none}}@media(prefers-color-scheme:dark){.gallery{--scrollbar-background-color:#424242;--nav-btn-background-color:#555555;--nav-btn-fill-color:#fff}}`;\n    ","import { html } from 'lit';\nimport { IManifest } from '../types/types';\n\nconst template = (screenshots: IManifest['screenshots'], scrollToNextPage: any, scrollToPrevPage: any) => {\n    return html`\n        ${screenshots? html`\n            <div id=\"paginated_gallery\" class=\"gallery\">\n                <div class=\"gallery_scroller\">\n                    <div class=\"scroller_wrap\">\n                        ${screenshots.map(screenshot => html`<img draggable=\"false\" src='${screenshot.src}'>`)}\n                    </div>\n                </div>\n                <span class=\"btn prev\" @click=\"${scrollToPrevPage}\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 96 96\"><title/><path d=\"M39.3756,48.0022l30.47-25.39a6.0035,6.0035,0,0,0-7.6878-9.223L26.1563,43.3906a6.0092,6.0092,0,0,0,0,9.2231L62.1578,82.615a6.0035,6.0035,0,0,0,7.6878-9.2231Z\" fill=\"%23999\" fill-rule=\"evenodd\"/></svg>\n                </span>\n                <span class=\"btn next\" @click=\"${scrollToNextPage}\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 96 96\"><title/><path d=\"M69.8437,43.3876,33.8422,13.3863a6.0035,6.0035,0,0,0-7.6878,9.223l30.47,25.39-30.47,25.39a6.0035,6.0035,0,0,0,7.6878,9.2231L69.8437,52.6106a6.0091,6.0091,0,0,0,0-9.223Z\" fill=\"%23000\" fill-rule=\"evenodd\"/></svg>\n                </span>\n            </div>`\n        : ''}`;\n};\nexport default template;","import { LitElement, html } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { IWindow, IManifest } from '../types/types';\n\ndeclare const window: IWindow;\n\nimport styles from './styles-gallery.scss';\nimport template from './template-gallery';\n\n@customElement('pwa-gallery')\nexport default class PWAGalleryElement extends LitElement {\t\n\t@property() screenshots: IManifest['screenshots'] = [];\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tpublic calcScrollSize = () => {\n\t\t//@ts-ignore\n\t\tconst gallery = this.shadowRoot.querySelector('#paginated_gallery');\n\t\tif (!gallery)\n\t\t\treturn;\n\t\tconst gallery_scroller = gallery.querySelector('.gallery_scroller');\n\t\tif (!gallery_scroller)\n\t\t\treturn;\n\t\tconst gallery_items = Array.from(gallery_scroller.querySelectorAll('img'));\n\t\tif (!gallery_items)\n\t\t\treturn;\n\t\tconst gallery_item = gallery_items.find((item) => { return (item.offsetWidth + item.offsetLeft) >= gallery_scroller.scrollLeft})\n\t\tif (!gallery_item)\n\t\t\treturn;\n\t\t\n\t\treturn {\n\t\t\tscroller: gallery_scroller,\n\t\t\titem: gallery_item\n\t\t}\n\t}\n\tpublic scrollToNextPage = () => {\n\t\tconst _tools = this.calcScrollSize();\n\t\tif (_tools && _tools.item.nextElementSibling)\n\t\t\t_tools.scroller.scrollTo({\n\t\t\t\ttop: 0,\n\t\t\t\tleft: _tools.scroller.scrollLeft + _tools.scroller.clientWidth + _tools.item.nextElementSibling.clientWidth / 2,\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t}\n\tpublic scrollToPrevPage = () => {\n\t\tconst _tools = this.calcScrollSize();\n\t\tif (_tools && _tools.item.previousElementSibling)\n\t\t\t_tools.scroller.scrollTo({\n\t\t\t\ttop: 0,\n\t\t\t\tleft: _tools.scroller.scrollLeft - _tools.scroller.clientWidth - _tools.item.previousElementSibling.clientWidth / 2,\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t}\n\n\t\n\tprivate _init = () => {\n\t\treturn;\n\t}\n\n\tfirstUpdated () {\n\t\tconst _tools = this.calcScrollSize();\n\t\tif (_tools)\n\t\t\tsetTimeout(\n\t\t\t\t() => {\n\t\t\t\t\t_tools.scroller.scrollTo({\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t300\n\t\t\t)\n\t\t\t\n\t}\n\n\tconnectedCallback() {\n\t\tsuper.connectedCallback()\n\t\tthis._init();\n\t}\n\n\trender() {\n        return html`${template(\n            this.screenshots,\n\t\t\tthis.scrollToNextPage,\n\t\t\tthis.scrollToPrevPage\n        )}`;\n\t}\n}\n","import { html } from 'lit';\nimport { IManifest } from '../../../types/types';\nimport { msg } from '@lit/localize';\n\nconst template = (name: string, description: string, icon: string, install: any) => {\n    return html`\n        <div class=\"touch-header\" id=\"touch-header\"></div>\n        <div class=\"body-header\">\n            <div class=\"icon\">\n                <img src=\"${icon}\" alt=\"icon\" class=\"icon-image\">\n            </div>\n            <div class=\"about\">\n                <div class=\"name\">\n                    <label>${name}</label>\n                </div>\n                <div class=\"hostname\">${location.hostname}</div>\n            </div>\n            <button class=\"material-button primary install\" @click='${install}'>${msg('Install')}</button>\n        </div>\n        <div class=\"description\">${description}</div>\n    `;\n};\nexport default template;","import { LitElement, html } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { IWindow, IManifest } from '../../../types/types';\n\n// import TouchDragListener from \"./touch-listener\";\n\ndeclare const window: IWindow;\n\ntype IProps = {\n    name: string, \n    description: string,\n    icon: string\n}\n\nimport template from './template-bottom-sheet';\n\n@customElement('pwa-bottom-sheet')\nexport default class PWABottomSheetElement extends LitElement {\t\n\t@property() props: IProps = {\n        name: '',\n        description: '',\n        icon: ''\n    };\n    @property() install = {handleEvent: () => {}};\n\t@property() hideDialog = () => {};\n\n\tprivate _callInstall = () => {\n\t\tthis.install.handleEvent();\n\t}\n\n\tprivate _callHide = () => { \n\t\tthis.hideDialog();\n\t\tthis.setupAppearence();\n\t}\n\t\n\tprivate bindedElement: {\n\t\ttouchElement: HTMLElement, \n\t\tlistener: any }| null = null;\n\tprivate readonly _saveBodyStyle = document.body.style.overscrollBehaviorY;\n\tprivate dragMobileSheet = (element: HTMLElement | null | undefined, touchTargetElement: HTMLElement | undefined, infoElement: HTMLElement | undefined) => {\n\t\tif (!element || !touchTargetElement || !infoElement)\n\t\t\treturn null;\n\n\t\tlet dragOffset = 0;\n\t\tconst bounceOffset = 35;\n\t\tconst bottomSize = touchTargetElement.clientHeight + infoElement.clientHeight;\n\n\t\tconst getYCoord = (e: MouseEvent | TouchEvent): number => {\n\t\t\treturn (e as MouseEvent).clientY || ((e as TouchEvent).changedTouches && (e as TouchEvent).changedTouches.length? (e as TouchEvent).changedTouches[0].clientY : 0);\n\t\t}\n\t\t\n\t\tconst dragMouseDown = (e: MouseEvent | TouchEvent) => {\n\t\t\twindow.addEventListener('mouseup', dragMouseUp);\n\t\t\twindow.addEventListener('mousemove', dragMouseMove);\n\t\t\twindow.addEventListener('touchend', dragMouseUp);\n\t\t\twindow.addEventListener('touchmove', dragMouseMove);\n\n\t\t\tdragOffset = getYCoord(e) - touchTargetElement.getBoundingClientRect().top;\n\n\t\t\tdocument.body.style.overscrollBehaviorY = 'none';\n\t\t}\n\t\tconst dragMouseUp = (e: MouseEvent | TouchEvent) => {\n\t\t\tdocument.body.style.overscrollBehaviorY = this._saveBodyStyle;\n\n\t\t\tif (getYCoord(e) >= window.innerHeight - 25){\n\t\t\t\tcloseDragElement(e, window.innerHeight + 50, true);\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (window.innerHeight - getYCoord(e)  > element.clientHeight / 2.5){\n\t\t\t\tcloseDragElement(e, window.innerHeight - element.clientHeight);\n\t\t\t\treturn\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcloseDragElement(e, window.innerHeight - bottomSize - bounceOffset);\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t\t\n\t\tconst dragMouseMove = (e: MouseEvent | TouchEvent) => {\n\t\t\tconst currentY = getYCoord(e);\n\n\t\t\tif (currentY <= (window.innerHeight - element.clientHeight + dragOffset)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\telement.style.setProperty(\n\t\t\t\t\"transition\",\n\t\t\t\t`none`\n\t\t\t)\n\n\t\t\telement.style.setProperty(\n\t\t\t\t\"--translateY\",\n\t\t\t\t`translateY(${currentY - dragOffset}px)`\n\t\t\t);\n\t\t}\n\t\t\n\t\tconst closeDragElement = (e: MouseEvent | TouchEvent, toPoint?: number, hideDialog?: boolean) => {\n\t\t\twindow.removeEventListener('mouseup', dragMouseUp);\n\t\t\twindow.removeEventListener('mousemove', dragMouseMove);\n\t\t\twindow.removeEventListener('touchend', dragMouseUp);\n\t\t\twindow.removeEventListener('touchmove', dragMouseMove);\n\n\t\t\tif (window.innerWidth >= 768)\n\t\t\t\treturn\n\n\t\t\tif (!toPoint && getYCoord(e) >= window.innerHeight - bottomSize)\n\t\t\t\telement.style.setProperty(\n\t\t\t\t\t\"--translateY\",\n\t\t\t\t\t`translateY(calc(100vh - ${bottomSize}px))`\n\t\t\t\t);\n\t\t\telse\t\t\t\t\n\t\t\t\telement.style.setProperty(\n\t\t\t\t\t\"--translateY\",\n\t\t\t\t\t`translateY(${(toPoint || getYCoord(e)) + bounceOffset}px)`\n\t\t\t\t);\n\n\t\t\telement.style.setProperty(\n\t\t\t\t\"transition\",\n\t\t\t\t`transform 500ms cubic-bezier(0.4, 0, 0, 1) 0s`\n\t\t\t);\n\n\t\t\tif (hideDialog){\n\t\t\t\ttouchTargetElement.removeEventListener('mousedown', dragMouseDown);\n\t\t\t\ttouchTargetElement.removeEventListener('touchstart', dragMouseDown);\n\n\t\t\t\tsetTimeout(\n\t\t\t\t\tthis._callHide,\n\t\t\t\t\t250\n\t\t\t\t);\n\t\t\t}\n\t\t\t\t\n\t\t}\n\n\t\ttouchTargetElement.addEventListener('mousedown', dragMouseDown);\n\t\ttouchTargetElement.addEventListener('touchstart', dragMouseDown, {passive: true});\n\n\t\tcloseDragElement(new MouseEvent('mouseup'), window.innerHeight - bottomSize - bounceOffset);\n\n\t\treturn {\n\t\t\ttouchElement: touchTargetElement, \n\t\t\tlistener: dragMouseDown\n\t\t}\n\t}\n\t\n\tprivate setupAppearence = () => {\n\t\tif (this.bindedElement) {\n\t\t\tthis.bindedElement.touchElement.removeEventListener('mousedown', this.bindedElement.listener);\n\t\t\tthis.bindedElement.touchElement.removeEventListener('touchstart', this.bindedElement.listener);\n\t\t}\n\t\t\n\t\tthis.bindedElement = this.dragMobileSheet(\n\t\t\tthis.parentElement?.parentElement, \n\t\t\tthis.parentElement?.getElementsByClassName('touch-header')[0] as HTMLElement, \n\t\t\tthis.parentElement?.getElementsByClassName('body-header')[0] as HTMLElement);\n\t}\n\tprivate _init = () => {\n\t\tthis.setupAppearence();\n\n\t\twindow.addEventListener('resize', this.setupAppearence);\n\n\t\treturn;\n\t}\n\n\tfirstUpdated () {\n\t\tthis._init();\n        return;\n\t}\n\n    createRenderRoot() {\n        return this;\n    }\n\n\tconnectedCallback() {\n\t\tsuper.connectedCallback()\n\n\t}\n\n\trender() {\n        return html`${template(this.props.name, this.props.description, this.props.icon, this._callInstall)}`;\n\t}\n}\n","import { IRelatedApp } from './types/types';\n\nconst _eventDispatcher = (_element: Element, name: string, message: string) => {\n    const event  = new CustomEvent(name, {\n        detail: {\n          message\n        }\n    });\n    _element.dispatchEvent(event);\n}\nexport default class Utils {\n    static isAppleMobile(): boolean {\n\t\tif (\n                (\n                    ['iPhone', 'iPad', 'iPod'].includes(navigator.platform) ||\n                    (navigator.userAgent.match(/Mac/) && navigator.maxTouchPoints && navigator.maxTouchPoints > 2)\n                )\n                && ('serviceWorker' in navigator)\n            )\n\t\t\treturn true;\n\t\treturn false;\n    }\n    \n    static isStandalone() {\n\t\tif (window.matchMedia('(display-mode: standalone)').matches || ('standalone' in navigator && (navigator as any).standalone === true))\n\t\t\treturn true;\n\t\treturn false;\n    }\n\n    static async getInstalledRelatedApps(): Promise<IRelatedApp[]> {\n        if ('getInstalledRelatedApps' in navigator)\n            await (navigator as any).getInstalledRelatedApps().then((relatedApps: IRelatedApp[]) => {\n\t\t\t\treturn relatedApps;\n            });\n        return [];\n    }\n    \n    static async isRelatedAppsInstalled(): Promise<boolean> {\n        const _relatedApps = await this.getInstalledRelatedApps();\n        return _relatedApps.length? true : false;\n    }\n\n    static eventInstalledSuccess(_element: Element) {\n        _eventDispatcher(_element, 'pwa-install-success-event', 'Application installation successfully processed (Chromium/Android only)');\n    }\n    static eventInstalledFail(_element: Element) {\n        _eventDispatcher(_element, 'pwa-install-fail-event', 'Application installation failed (Chromium/Android only)');\n    }\n    static eventUserChoiceResult(_element: Element, message: string) {\n        _eventDispatcher(_element, 'pwa-user-choice-result-event', message);\n    }\n    static eventInstallAvailable(_element: Element) {\n        _eventDispatcher(_element, 'pwa-install-available-event', 'Application installation available');\n    }\n    \n}","import {css} from 'lit'; export default css`#pwa-install-element{user-select:none}#pwa-install-element .install-dialog{--text-color-normal:#212121;--background-color:#fff;--border-bottom-color:#DBDCDE;--scrollbar-background-color:#fff;font-family:Roboto,\"Segoe UI\",system-ui;position:fixed;display:inline-block;opacity:0;visibility:hidden;z-index:5}#pwa-install-element .install-dialog.chrome{max-width:380px;width:90%;min-height:90px;margin:0 auto;right:150px;left:auto;background-color:var(--background-color);filter:drop-shadow(0 5px 15px rgba(0, 0, 0, .3));font-size:15px;color:var(--text-color-normal);border-radius:8px;top:-100px;transition:top .5s ease-in-out,opacity .8s ease-in-out,max-height .35s ease-in-out}#pwa-install-element .install-dialog.chrome.available{opacity:1;top:28px;visibility:visible}#pwa-install-element .install-dialog.chrome .dialog-body{display:grid;grid-template-columns:70px 1fr}#pwa-install-element .install-dialog.chrome .dialog-body .icon{display:flex;align-items:flex-start}#pwa-install-element .install-dialog.chrome .dialog-body .icon .icon-image{width:48px;height:48px;margin:0 auto;margin-top:10px;border-radius:6px}#pwa-install-element .install-dialog.chrome .dialog-body .about{display:grid;grid-template-rows:30px auto}#pwa-install-element .install-dialog.chrome .dialog-body .about .hostname,#pwa-install-element .install-dialog.chrome .dialog-body .about .name{padding:0 5px;overflow:hidden}#pwa-install-element .install-dialog.chrome .dialog-body .about .name{font-weight:500;font-size:18px;line-height:24px;margin-top:5px;align-items:flex-start;display:flex}#pwa-install-element .install-dialog.chrome .dialog-body .about .name label{text-overflow:ellipsis;word-break:break-all;white-space:nowrap;overflow:hidden}#pwa-install-element .install-dialog.chrome .dialog-body .about .hostname{font-size:13px;font-weight:400;opacity:.7;line-height:14px;overflow-x:hidden;text-overflow:ellipsis;word-break:break-all;white-space:nowrap}#pwa-install-element .install-dialog.chrome .dialog-body .description{font-weight:400;line-height:20px;grid-column:1/3;padding:0 6px;margin:10px 5px 5px;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;max-height:115px;overflow:hidden;overflow-y:auto;text-overflow:ellipsis}#pwa-install-element .install-dialog.chrome .dialog-body .app-description{font-size:13px;margin-bottom:10px}#pwa-install-element .install-dialog.chrome .dialog-body .app-description::-webkit-scrollbar{width:4px;height:4px}#pwa-install-element .install-dialog.chrome .dialog-body .app-description::-webkit-scrollbar-thumb{background:#929292;border-radius:4px}#pwa-install-element .install-dialog.chrome .dialog-body .app-description::-webkit-scrollbar-thumb:hover{background:#646464}#pwa-install-element .install-dialog.chrome .dialog-body .app-description::-webkit-scrollbar-track{background:var(--scrollbar-background-color);border-radius:4px}#pwa-install-element .install-dialog.chrome .dialog-body .install-description{font-size:14px}#pwa-install-element .install-dialog.chrome .dialog-body hr{height:1px;width:100%;grid-column:1/3;background-color:var(--border-bottom-color);border:none;margin:0}#pwa-install-element .install-dialog.chrome .dialog-body .action-buttons{display:grid;grid-template-columns:50% auto;grid-column-start:1;grid-column-end:3;gap:10px;padding:10px 10px}#pwa-install-element .install-dialog.chrome .dialog-body .action-buttons .primary{grid-column-start:2}#pwa-install-element .install-dialog.chrome .dialog-body pwa-gallery{grid-column:1/3;max-height:0;opacity:0;transition:opacity ease-in-out .5s,max-height .5s ease-in-out;overflow:hidden}#pwa-install-element .install-dialog.chrome.gallery pwa-gallery{transition:opacity .3s ease-in-out .2s,max-height .5s ease-in-out;max-height:70vh;opacity:1}#pwa-install-element .install-dialog.mobile{--touch-header-color:#DBDCE0;top:0;max-width:414px;width:100%;bottom:auto;left:0;right:0;transition:none;transform:translateY(100vh);border-radius:0;border-top-left-radius:15px;border-top-right-radius:15px;padding-bottom:35px}#pwa-install-element .install-dialog.mobile .dialog-body{grid-template-columns:1fr}#pwa-install-element .install-dialog.mobile .dialog-body .touch-header{height:30px;width:100%;padding-top:10px;box-sizing:border-box;cursor:grab}#pwa-install-element .install-dialog.mobile .dialog-body .touch-header:active{cursor:grabbing}#pwa-install-element .install-dialog.mobile .dialog-body .touch-header::before{content:\"\";width:40px;height:5px;border-radius:3px;background:var(--touch-header-color);margin:0 auto;display:block}#pwa-install-element .install-dialog.mobile .dialog-body .body-header{display:grid;grid-template-columns:max-content 1fr max-content;grid-gap:15px;padding:18px 20px;padding-top:0;border-bottom:1px solid var(--border-bottom-color)}#pwa-install-element .install-dialog.mobile .dialog-body .body-header .install{text-transform:capitalize;height:40px;padding:0 23px}#pwa-install-element .install-dialog.mobile .dialog-body .body-header .about{grid-template-rows:auto auto;grid-gap:6px}#pwa-install-element .install-dialog.mobile .dialog-body .body-header .about .name{padding:0;line-height:20px;font-size:16px}#pwa-install-element .install-dialog.mobile .dialog-body .body-header .about .hostname{font-size:14px;font-weight:400;opacity:.7;line-height:14px;overflow-x:hidden;text-overflow:ellipsis;word-break:break-all;white-space:nowrap;padding:0}#pwa-install-element .install-dialog.mobile .dialog-body .body-header .icon .icon-image{margin:0;width:45px;height:45px}#pwa-install-element .install-dialog.mobile .dialog-body .description{padding:15px 20px 0;margin:0;margin-bottom:15px;-webkit-line-clamp:6;max-height:150px}#pwa-install-element .install-dialog.mobile .dialog-body pwa-gallery{max-height:100%;padding-bottom:15px;opacity:1}#pwa-install-element .install-dialog.mobile .material-button{border-radius:20px}#pwa-install-element .install-dialog.mobile.available{--translateY:translateY(calc(100vh - 85px));opacity:1;top:0;visibility:visible;transform:var(--translateY)}#pwa-install-element .material-button{--text-color-primary:#fff;--text-color-secondary:#374fc6;--background-color-primary:#374fc6;--background-color-ripple:#fff;position:relative;display:inline-block;box-sizing:border-box;border:none;border-radius:6px;padding:0 16px;min-width:64px;height:36px;vertical-align:middle;text-align:center;text-overflow:ellipsis;text-transform:uppercase;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);font-family:Roboto,\"Segoe UI\",BlinkMacSystemFont,system-ui,-apple-system;font-size:14px;font-weight:500;line-height:37px;overflow:hidden;outline:0;cursor:pointer;transition:box-shadow .2s}#pwa-install-element .material-button.primary{color:var(--text-color-primary);background-color:var(--background-color-primary)}#pwa-install-element .material-button.secondary{background-color:rgba(0,0,0,0);color:var(--text-color-secondary);box-shadow:none}#pwa-install-element .material-button.secondary::after,#pwa-install-element .material-button.secondary::before{background-color:var(--background-color-primary)}#pwa-install-element .material-button.secondary:active,#pwa-install-element .material-button.secondary:hover{box-shadow:none}#pwa-install-element .material-button.secondary.close{height:26px;min-width:26px;line-height:0;margin-right:0;margin-left:auto;padding:0;border-radius:50%}#pwa-install-element .material-button.secondary.close svg{width:16px;fill:var(--text-color-secondary)}#pwa-install-element .material-button.secondary.close::after{width:25px;height:25px;border-radius:50%}#pwa-install-element .material-button.secondary.close::before{border-radius:50%}#pwa-install-element .material-button::before{content:\"\";position:absolute;top:0;bottom:0;left:0;right:0;background-color:var(--background-color-ripple);opacity:0;transition:opacity .2s}#pwa-install-element .material-button::after{content:\"\";position:absolute;left:50%;top:50%;border-radius:50%;padding:50%;width:32px;height:32px;background-color:var(--background-color-ripple);opacity:0;transform:translate(-50%,-50%) scale(1);transition:opacity 1s,transform .5s}#pwa-install-element .material-button:hover{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}#pwa-install-element .material-button:hover::before{opacity:.08}#pwa-install-element .material-button:hover:focus::before{opacity:.3}#pwa-install-element .material-button:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}#pwa-install-element .material-button:active::after{opacity:.32;transform:translate(-50%,-50%) scale(0);transition:transform 0s}@media(prefers-color-scheme:dark){#pwa-install-element .install-dialog{--text-color-normal:#fff;--background-color:#1e1e1e;--border-bottom-color:#404140;--scrollbar-background-color:#424242}#pwa-install-element .install-dialog.mobile{--touch-header-color:#3f403f}#pwa-install-element .install-dialog .material-button{--text-color-primary:#1B222C;--text-color-secondary:#a7c7fa;--background-color-primary:#a7c7fa}}@media(max-width:767px)and (min-height:495px){#pwa-install-element .install-dialog.chrome.mobile{display:inline-block}#pwa-install-element .install-dialog.chrome{display:none}}@media(min-width:768px),(max-height:495px){#pwa-install-element .install-dialog.chrome.mobile{display:none}#pwa-install-element .install-dialog.chrome{display:inline-block}}@media(max-height:420px){#pwa-install-element .install-dialog.chrome .dialog-body .description{-webkit-line-clamp:3;max-height:70px}}@media(hover:none)and (pointer:coarse){#pwa-install-element .install-dialog.chrome .dialog-body .description::-webkit-scrollbar{display:none}}`;\n    ","import {css} from 'lit'; export default css`#pwa-install-element .install-dialog.apple{--text-color-normal:#333;--text-color-description:#333;--background-color:rgba(255, 255, 255, 0.75);--text-color-button:#fff;--background-color-button:#fff;--background-color-button-active:#DBDAE0;--border-bottom-color:rgba(0, 0, 0, 0.1);font-family:system-ui,-apple-system,HelveticaNeue,BlinkMacSystemFont,Roboto,\"Segoe UI\";max-width:380px;width:auto;margin:0 auto;right:0;left:0;font-size:15px;color:var(--text-color-normal);bottom:-100px;transition:bottom .5s ease-in-out,opacity .8s ease-in-out,max-height .35s ease-in-out,border .35s ease-in-out;overflow:hidden;will-change:opacity,visibility,bottom,top}#pwa-install-element .install-dialog.apple.dialog-body{display:grid;grid-template-columns:95px auto 1fr;grid-template-rows:1fr auto;grid-template-areas:\"icon description\" \"welcome welcome\" \"how-to how-to\" \"gallery gallery\" \"button button\";border-radius:10px;border-bottom:1px solid transparent;background-color:var(--background-color);filter:drop-shadow(0 5px 15px rgba(0, 0, 0, .2));backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}#pwa-install-element .install-dialog.apple.dialog-body .icon{display:flex;align-items:center;grid-area:icon;border-bottom:1px solid var(--border-bottom-color)}#pwa-install-element .install-dialog.apple.dialog-body .icon .icon-image{width:64px;height:64px;margin:0 auto;border-radius:6px}#pwa-install-element .install-dialog.apple.dialog-body .about{display:grid;grid-template-rows:35px 60px;border-bottom:1px solid var(--border-bottom-color);grid-area:description}#pwa-install-element .install-dialog.apple.dialog-body .about .description,#pwa-install-element .install-dialog.apple.dialog-body .about .name{padding-right:15px;overflow:hidden}#pwa-install-element .install-dialog.apple.dialog-body .about .name{font-weight:600;padding-top:10px;padding-right:10px;line-height:22px;align-items:flex-start;display:flex}#pwa-install-element .install-dialog.apple.dialog-body .about .description{font-size:12px;line-height:15px;margin-bottom:15px;overflow-y:auto;color:var(--text-color-description)}#pwa-install-element .install-dialog.apple.dialog-body .about .close{height:26px;min-width:26px;line-height:0;margin-right:-3px;margin-top:-3px;margin-left:auto;padding:0;border-radius:50%;opacity:.5;outline:0;color:var(--text-color-normal);border:none;background-color:rgba(0,0,0,0);cursor:pointer;transition:opacity .2s ease-in-out,background-color .2s ease-in-out}#pwa-install-element .install-dialog.apple.dialog-body .about .close svg{fill:var(--text-color-normal);width:18px}#pwa-install-element .install-dialog.apple.dialog-body .about .close:active,#pwa-install-element .install-dialog.apple.dialog-body .about .close:hover{opacity:1;background-color:var(--background-color-button)}#pwa-install-element .install-dialog.apple.dialog-body .welcome-to-install{font-size:15px;grid-area:welcome;text-align:left;font-weight:400;padding:15px;width:auto;border-bottom:1px solid var(--border-bottom-color)}#pwa-install-element .install-dialog.apple .action-buttons{grid-area:button;grid-column-start:1;grid-column-end:3;gap:15px;padding:15px}#pwa-install-element .install-dialog.apple .dialog-button{display:grid;height:50px;width:100%;line-height:50px;border-radius:8px;color:var(--text-color-normal)}#pwa-install-element .install-dialog.apple .dialog-button.button{border:none;outline:0;font-family:system-ui,-apple-system,HelveticaNeue,BlinkMacSystemFont;cursor:pointer;user-select:none;font-weight:400;font-size:17px;padding:0;margin:0;background-color:var(--background-color-button)}#pwa-install-element .install-dialog.apple .dialog-button.button.install{padding:0 15px;text-align:left}#pwa-install-element .install-dialog.apple .dialog-button.button.install .button-text{opacity:0;display:flex;align-items:center;justify-content:space-between;gap:15px;transition:opacity .4s ease-in-out .1s;overflow:hidden}#pwa-install-element .install-dialog.apple .dialog-button.button.install .button-text>span{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}#pwa-install-element .install-dialog.apple .dialog-button.button.install .button-text>svg{flex-shrink:0;transform:scale(.8)}#pwa-install-element .install-dialog.apple .dialog-button.button.install .button-text.show{opacity:1;visibility:visible;width:auto;height:auto}#pwa-install-element .install-dialog.apple .dialog-button.button.install .button-text.hide{opacity:0;position:absolute;width:0;height:0;visibility:hidden}#pwa-install-element .install-dialog.apple .dialog-button.button.gallery{display:flex;align-items:center;min-width:50px;width:auto}#pwa-install-element .install-dialog.apple .dialog-button.button.gallery #pwa-gallery{margin:0 auto;width:23px;fill:var(--text-color-normal)}#pwa-install-element .install-dialog.apple .dialog-button.button:active{background-color:var(--background-color-button-active)}#pwa-install-element .install-dialog.apple .how-to-body{opacity:0;max-height:0;overflow:hidden;transition:opacity ease-in-out .5s,max-height .5s ease-in-out;grid-area:how-to}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description{display:grid;user-select:none;grid-auto-columns:1fr;grid-template-rows:1fr 1fr 1fr;gap:10px;padding:15px;padding-bottom:0}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step{display:inline-flex;flex-direction:row;gap:15px;align-items:center;font-size:14px}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap{position:relative;display:inline-flex;flex-shrink:0;width:50px;height:50px;align-items:center;border-radius:6px}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap #pwa-add,#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap #pwa-safari,#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap #pwa-share{margin:0 auto}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap #pwa-safari,#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap #pwa-share{fill:#527afb}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap #pwa-share{margin-bottom:4px;transform:scale(.75)}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap #pwa-add{transform:scale(.8);fill:var(--text-color-normal)}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap #pwa-safari{transform:scale(.92)}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .svg-wrap .step-count{position:absolute;line-height:12px;top:3px;left:4px}#pwa-install-element .install-dialog.apple .how-to-body .how-to-description .description-step .step-text{font-weight:600;text-align:left}#pwa-install-element .install-dialog.apple pwa-gallery{grid-column:1/3;max-height:0;opacity:0;transition:opacity ease-in-out .5s,max-height .5s ease-in-out;overflow:hidden}#pwa-install-element .install-dialog.apple pwa-gallery+.action-buttons{display:flex}#pwa-install-element .install-dialog.apple.available{opacity:1;bottom:20px;visibility:visible}#pwa-install-element .install-dialog.apple.gallery pwa-gallery{transition:opacity .3s ease-in-out .2s,max-height .5s ease-in-out;max-height:70vh;opacity:1}#pwa-install-element .install-dialog.apple.how-to .dialog-body{border-bottom:1px solid #e0e0e0}#pwa-install-element .install-dialog.apple.how-to .how-to-body{opacity:1;max-height:400px;transition:opacity .3s ease-in-out .2s,max-height .5s ease-in-out}@media(min-width:768px){#pwa-install-element .install-dialog.apple{top:-100px;bottom:unset;right:150px;left:auto;transition:top .5s ease-in-out,opacity .8s ease-in-out,max-height .35s ease-in-out}#pwa-install-element .install-dialog.apple.available{top:28px;bottom:auto}}@media(min-width:768px)and (max-width:1366px){#pwa-install-element .install-dialog.apple{right:28px;left:auto}}@media(max-width:767px){#pwa-install-element .install-dialog.apple .description-step .step-text{font-size:13px}}@media(max-width:428px){#pwa-install-element .install-dialog.apple.dialog-body{max-width:100vw;border-bottom-left-radius:0;border-bottom-right-radius:0}#pwa-install-element .install-dialog.apple.dialog-body .action-buttons{padding-bottom:max(15px,env(safe-area-inset-bottom))}#pwa-install-element .install-dialog.apple.dialog-body.available{bottom:0}}@media(prefers-color-scheme:dark){#pwa-install-element .install-dialog.apple{--text-color-normal:#fff;--text-color-description:#9E9AA1;--background-color:rgb(25 25 25 / 90%);--background-color-button:#353535;--background-color-button-active:#454545;--border-bottom-color:#353535}}`;\n    ","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"classMap\"]: () => __WEBPACK_EXTERNAL_MODULE_lit_directives_class_map_js_2f88e643__.classMap });","import { html } from 'lit';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { IManifest } from '../../types/types';\nimport { msg } from '@lit/localize';\n\nconst template = (name: string, description: string, installDescription: string, icon: string, manifest: IManifest, installAvailable: any, hideDialog: any, install: any, toggleGallery: any, galleryRequested: boolean) => {\n    const installDialogClasses = () => { return {available: installAvailable, gallery: galleryRequested }};\n\n    return html`\n        <div id=\"pwa-install-element\">\n            <div class=\"install-dialog chrome ${classMap(installDialogClasses())}\">\n                <div class=\"dialog-body\">\n                    <div class=\"icon\">\n                        <img src=\"${icon}\" alt=\"icon\" class=\"icon-image\">\n                    </div>\n                    <div class=\"about\">\n                        <div class=\"name\">\n                            <label>${name}</label>\n                            <button class=\"material-button secondary close\" @click='${hideDialog}'>\n                                <svg viewBox=\"0 0 24 24\"><path d=\"M5.3 18.7c.2.2.4.3.7.3s.5-.1.7-.3l5.3-5.3 5.3 5.3a1.08 1.08 0 0 0 .7.3 1.08 1.08 0 0 0 .7-.3c.4-.4.4-1 0-1.4L13.4 12l5.3-5.3c.4-.4.4-1 0-1.4s-1-.4-1.4 0L12 10.6 6.7 5.3c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l5.3 5.3-5.3 5.3c-.4.4-.4 1 0 1.4z\"/></svg>\n                            </button>\n                        </div>\n                        <div class=\"hostname\">${location.hostname}</div>\n                        \n                    </div>\n                    ${description ? html `<div class=\"description app-description\">${description}</div><hr>`: ''}\n                    <div class=\"description install-description\">${installDescription? installDescription: msg('This site has app functionality. Install it on your device for extensive experience and easy access.')}</div>\n                    ${manifest.screenshots && manifest.screenshots.length? html`<pwa-gallery .screenshots=${manifest.screenshots}></pwa-gallery>`: ''}\n                    <div class=\"action-buttons\">\n                        ${manifest.screenshots && manifest.screenshots.length? html`<button class=\"material-button secondary\" @click='${toggleGallery}'>${galleryRequested?msg('Less'):msg('More')}</button>`:''}\n                        <button class=\"material-button primary install\" @click='${install}'>${msg('Install')}</button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"install-dialog chrome mobile ${classMap(installDialogClasses())}\">\n                <div class=\"dialog-body\">\n                    <pwa-bottom-sheet .props=${{name, icon, description}} .install=${install} .hideDialog=${hideDialog}>\n                    </pwa-bottom-sheet>\n                    ${manifest.screenshots && manifest.screenshots.length? html`<pwa-gallery .screenshots=${manifest.screenshots}></pwa-gallery>`: ''}\n                </div>\n            </div>\n        </div>`;\n};\nexport default template;","import { html } from 'lit';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { IManifest } from '../../types/types';\nimport { msg } from '@lit/localize';\n\nconst template = (name: string, description: string, installDescription: string, icon: string, manifest: IManifest, installAvailable: any, hideDialog: any, howToForApple: any, howToRequested: boolean, toggleGallery: any, galleryRequested: boolean) => {\n    const installDialogClassesApple = () => { return {available: installAvailable, 'how-to': howToRequested, gallery: galleryRequested }};\n\n    return html`\n        <aside id=\"pwa-install-element\">\n            <article class=\"install-dialog apple ${classMap(installDialogClassesApple())} dialog-body\">\n                <div class=\"icon\">\n                    <img src=\"${icon}\" alt=\"icon\" class=\"icon-image\">\n                </div>\n                <div class=\"about\">\n                    <div class=\"name\">\n                        ${name}\n                        <button type=\"button\" class=\"close\" @click='${hideDialog}'>\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M5.3 18.7c.2.2.4.3.7.3s.5-.1.7-.3l5.3-5.3 5.3 5.3a1.08 1.08 0 0 0 .7.3 1.08 1.08 0 0 0 .7-.3c.4-.4.4-1 0-1.4L13.4 12l5.3-5.3c.4-.4.4-1 0-1.4s-1-.4-1.4 0L12 10.6 6.7 5.3c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l5.3 5.3-5.3 5.3c-.4.4-.4 1 0 1.4z\"/></svg>\n                        </button>\n                    </div>\n                    <div class=\"description\">${description}</div>\n                </div>\n                <div class=\"welcome-to-install\">\n                    ${installDescription? installDescription: msg('This site has app functionality. Add it to your Home Screen for extensive experience and easy access.')}\n                </div>\n                <div class=\"how-to-body\">\n                    <div class=\"how-to-description\">\n                    \n                        <div class=\"description-step\">\n                            <div class=\"svg-wrap\">\n                                <!-- <span class=\"step-count\">1</span> -->\n                                <svg id=\"pwa-safari\" viewBox=\"0 0 13.964 13.964\" width=\"24\" height=\"24\">\n                                    <path d=\"M6.982 0A6.99 6.99 0 000 6.982a6.99 6.99 0 006.982 6.982 6.99 6.99 0 006.982-6.982A6.99 6.99 0 006.982 0zm0 1.074a5.9 5.9 0 015.908 5.908 5.9 5.9 0 01-5.908 5.908 5.9 5.9 0 01-5.908-5.908 5.9 5.9 0 015.908-5.908zm3.76 2.148L5.6 5.624l-2.379 5.117 5.165-2.354zM6.963 6.288a.795.795 0 11-.001 1.59.795.795 0 010-1.59z\" font-weight=\"400\" font-family=\"sans-serif\" overflow=\"visible\"/>\n                                </svg>\n                            </div>\n                            <div class=\"step-text\">${msg('1) Open in Safari browser')}</div>\n                        </div>\n                        <div class=\"description-step\">\n                            <div class=\"svg-wrap\">\n                                <!-- <span class=\"step-count\">2</span> -->\n                                <svg id=\"pwa-share\" width=\"25\" height=\"32\">\n                                    <g><path d=\"m12.51122,20.7648c0.52277,0 0.99149,-0.43265 0.99149,-0.95542l0,-14.87204l-0.09015,-2.0731l1.11768,1.15371l2.27135,2.37952c0.18028,0.19833 0.43265,0.30647 0.68502,0.30647c0.50476,0 0.90134,-0.37857 0.90134,-0.88332c0,-0.27039 -0.10817,-0.46869 -0.28844,-0.64895l-4.86721,-4.74103c-0.25237,-0.25237 -0.46869,-0.32448 -0.72106,-0.32448c-0.25237,0 -0.46869,0.0721 -0.72106,0.32448l-4.88523,4.74103c-0.18028,0.18028 -0.28844,0.37857 -0.28844,0.64895c0,0.50476 0.37857,0.88332 0.90134,0.88332c0.23436,0 0.50476,-0.10814 0.68502,-0.30647l2.27135,-2.37952l1.11768,-1.17172l-0.0721,2.09112l0,14.87204c0,0.52277 0.45066,0.95542 0.99145,0.95542l-0.00002,0l-0.00001,-0.00001zm-8.13005,10.96022l16.22403,0c2.86626,0 4.30841,-1.42412 4.30841,-4.23627l0,-14.27715c0,-2.79415 -1.44215,-4.23627 -4.30841,-4.23627l-3.96589,0l0,2.00095l3.92985,0c1.47819,0 2.34345,0.79316 2.34345,2.34345l0,14.06085c0,1.5503 -0.86527,2.34347 -2.34345,2.34347l-16.15194,0c-1.49625,0 -2.32547,-0.79317 -2.32547,-2.34347l0,-14.06085c0,-1.55029 0.82923,-2.34345 2.32547,-2.34345l3.96589,0l0,-2.00095l-4.00196,0c-2.84821,0 -4.29035,1.4241 -4.29035,4.23627l0,14.27715c0,2.81217 1.44215,4.23627 4.29035,4.23627l0.00001,0l0.00001,0z\" /></g>\n                                </svg>\n                            </div>\n                            <div class=\"step-text\">${msg('2) Press Share in Navigation bar')}</div>\n                        </div>\n                        <div class=\"description-step\">\n                            <div class=\"svg-wrap\">\n                                <!-- <span class=\"step-count\">3</span> -->\n                                <svg id=\"pwa-add\" width=\"25\" height=\"25\">\n                                    <g><path d=\"m23.40492,1.60784c-1.32504,-1.32504 -3.19052,-1.56912 -5.59644,-1.56912l-10.65243,0c-2.33622,0 -4.2017,0.24408 -5.5267,1.56912c-1.32504,1.34243 -1.56911,3.17306 -1.56911,5.50924l0,10.5827c0,2.40596 0.22665,4.254 1.55165,5.57902c1.34246,1.32501 3.19052,1.5691 5.59647,1.5691l10.60013,0c2.40592,0 4.2714,-0.24408 5.59644,-1.5691c1.325,-1.34245 1.55166,-3.17306 1.55166,-5.57902l0,-10.51293c0,-2.40596 -0.22666,-4.25401 -1.55166,-5.57901zm-0.38355,5.21289l0,11.24518c0,1.51681 -0.20924,2.94643 -1.02865,3.78327c-0.83683,0.83685 -2.30134,1.0635 -3.81815,1.0635l-11.33234,0c-1.51681,0 -2.96386,-0.22665 -3.80073,-1.0635c-0.83683,-0.83684 -1.04607,-2.26646 -1.04607,-3.78327l0,-11.19288c0,-1.5517 0.20924,-3.01617 1.02865,-3.85304c0.83687,-0.83683 2.31876,-1.04607 3.87042,-1.04607l11.28007,0c1.51681,0 2.98132,0.22666 3.81815,1.06353c0.81941,0.81941 1.02865,2.26645 1.02865,3.78327zm-10.53039,12.08205c0.64506,0 1.02861,-0.43586 1.02861,-1.13326l0,-4.34117l4.53294,0c0.66252,0 1.13326,-0.36613 1.13326,-0.99376c0,-0.64506 -0.43586,-1.02861 -1.13326,-1.02861l-4.53294,0l0,-4.53294c0,-0.6974 -0.38355,-1.13326 -1.02861,-1.13326c-0.62763,0 -0.99376,0.45332 -0.99376,1.13326l0,4.53294l-4.51552,0c-0.69737,0 -1.15069,0.38355 -1.15069,1.02861c0,0.62763 0.48817,0.99376 1.15069,0.99376l4.51552,0l0,4.34117c0,0.66252 0.36613,1.13326 0.99376,1.13326z\" /></g>\n                                </svg>\n                            </div>\n                            <div class=\"step-text\">${msg('3) Press Add to Home Screen')}</div>\n                        </div>\n                    </div>\n                </div>\n                ${manifest.screenshots && manifest.screenshots.length? html`<pwa-gallery .screenshots=${manifest.screenshots}></pwa-gallery>`: ''}\n                <div class=\"action-buttons\">\n                    ${manifest.screenshots && manifest.screenshots.length? html`<button class=\"dialog-button button gallery\" @click=${toggleGallery}>\n                        <svg id=\"pwa-gallery\" width=\"26\" height=\"26\" viewBox=\"0 0 23.538 18.022\"><path d=\"M2.79 18.022h17.958c1.834 0 2.79-.969 2.79-2.778V2.791C23.538.969 22.582 0 20.748 0H2.791C.956 0 0 .956 0 2.79v12.454c0 1.835.956 2.778 2.79 2.778zM.879 2.83C.878 1.55 1.55.88 2.816.88h17.906c1.228 0 1.938.671 1.938 1.95v12.067L16.756 9.47c-.517-.414-.995-.685-1.615-.685-.607 0-1.085.22-1.576.672L8.927 13.59l-1.938-1.796c-.426-.387-.853-.607-1.382-.607-.504 0-.879.207-1.305.594L.878 14.986zm6.46 6.356a2.39 2.39 0 002.377-2.39c0-1.304-1.072-2.39-2.377-2.39a2.401 2.401 0 00-2.39 2.39 2.393 2.393 0 002.39 2.39z\"/></svg>\n                    </button>`:''}\n                    <button class=\"dialog-button button install\" @click=${howToForApple}>\n                        <span class=\"button-text ${howToRequested? 'show': 'hide'}\">${msg('Hide Instruction')}</span>\n                        <span class=\"button-text ${howToRequested? 'hide': 'show'}\">\n                            <span>${msg('Add to Home Screen')}</span>\n                            <svg width=\"25\" height=\"25\">\n                                <use href=\"#pwa-add\"></use>\n                            </svg>\n                        </span>\n                    </button>\n                </div>\n            </article>\n        </aside>`;\n};\nexport default template;","import { LitElement, html } from 'lit';\nimport { localized } from '@lit/localize';\nimport { property, customElement } from 'lit/decorators.js';\nimport { changeLocale } from './localization';\n\nimport { IBeforeInstallPromptEvent, IRelatedApp, IChoiceResult, IManifest, Manifest, IWindow } from './types/types';\n\nimport PWAGalleryElement from './gallery';\nimport PWABottomSheetElement from './templates/chrome/bottom-sheet';\n\nimport Utils from './utils';\n\ndeclare const window: IWindow;\n\ndeclare global {\n\tinterface WindowEventMap {\n\t\tbeforeinstallprompt: IBeforeInstallPromptEvent\n\t}\n}\n\nimport styles from './templates/chrome/styles.scss';\nimport stylesApple from './templates/apple/styles-apple.scss';\n\nimport template from './templates/chrome/template';\nimport templateApple from './templates/apple/template-apple';\n\n\n@localized()\n@customElement('pwa-install')\nexport class PWAInstallElement extends LitElement {\n\tprivate manifest: IManifest = new Manifest();\n\t\n\t@property({attribute: 'manifest-url'}) manifestUrl = '/manifest.json';\n\t@property() icon = '';\n\t@property() name = '';\n\t@property() description = '';\n\t@property({attribute: 'install-description'}) installDescription = '';\n\t@property({attribute: 'manual-apple', type: Boolean}) manualApple = false;\n\t@property({attribute: 'manual-chrome', type: Boolean}) manualChrome = false;\n\t@property({attribute: 'disable-chrome', type: Boolean}) disableChrome = false;\n\n\tstatic get styles() {\n\t\treturn [ styles, stylesApple ];\n\t}\n\n\tpublic platforms = '';\n\tpublic userChoiceResult = '';\n\n\tpublic isDialogHidden: boolean = JSON.parse(window.sessionStorage.getItem('pwa-hide-install') || 'false');\n\tpublic isInstallAvailable = false;\n\tpublic isAppleMobilePlatform = false;\n\tpublic isUnderStandaloneMode = false;\n\tpublic isRelatedAppsInstalled = false;\n\n\tprivate _howToRequested = false;\n\tprivate _galleryRequested = false;\n\n\tprivate _install = {\n\t\thandleEvent: () => { \n\t\t\tif (window.deferredEvent) {\n\t\t\t\tthis.hideDialog();\n\t\t\t\twindow.deferredEvent.prompt();\n\t\t\t\twindow.deferredEvent.userChoice\n\t\t\t\t\t.then((choiceResult: IChoiceResult) => {\n\t\t\t\t\t\tthis.userChoiceResult = choiceResult.outcome;\n\t\t\t\t\t\tUtils.eventUserChoiceResult(this, this.userChoiceResult);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tUtils.eventInstalledFail(this);\n\t\t\t\t\t});\n\t\t\t\twindow.deferredEvent = null;\n\t\t\t}\n\t\t},\n\t\tpassive: true\n\t}\n\tpublic install = () => {\n\t\tif (this.isAppleMobilePlatform) {\n\t\t\tthis._howToRequested = true;\n\t\t\tthis.requestUpdate();\n\t\t}\n\t\telse\n\t\t\tthis._install.handleEvent();\n\t}\n\n\tprivate _hideDialog = {\n\t\thandleEvent: () => { \n\t\t\tthis.isDialogHidden = true;\n\t\t\twindow.sessionStorage.setItem('pwa-hide-install', 'true');\n\t\t\tthis.requestUpdate();\n\t\t},\n\t\tpassive: true\n\t}\n\tprivate _hideDialogUser = () => {\n\t\tUtils.eventUserChoiceResult(this, 'dismissed');\n\t\tthis.hideDialog();\n\t}\n\tpublic hideDialog = () => {\n\t\tthis._hideDialog.handleEvent();\n\t}\n\tpublic showDialog = (forced = false) => {\n\t\tthis.isDialogHidden = false;\n\t\tif (forced)\n\t\t\tthis.isInstallAvailable = true;\n\t\twindow.sessionStorage.setItem('pwa-hide-install', 'false');\n\t\tthis.requestUpdate();\n\t}\n\n\tpublic getInstalledRelatedApps = async (): Promise<IRelatedApp[]> => {\n\t\treturn await Utils.getInstalledRelatedApps();\n\t}\n\n\tprivate _howToForApple = {\n        handleEvent: () => { \n\t\t\tthis._howToRequested = !this._howToRequested;\n\t\t\tif (this._howToRequested && this._galleryRequested)\n\t\t\t\tthis._galleryRequested = false;\n\t\t\tthis.requestUpdate();\n        },\n        passive: true\n    }\n\n\tprivate _toggleGallery = {\n        handleEvent: () => { \n\t\t\tthis._galleryRequested = !this._galleryRequested;\n\t\t\tif (this._howToRequested && this._galleryRequested)\n\t\t\t\tthis._howToRequested = false;\n\t\t\tthis.requestUpdate();\n        },\n        passive: true\n    }\n\n\tprivate async _checkInstalled() {\n\t\tthis.isUnderStandaloneMode = Utils.isStandalone();\n\t\tthis.isRelatedAppsInstalled = await Utils.isRelatedAppsInstalled();\n\t\tthis.isAppleMobilePlatform = Utils.isAppleMobile();\n\n\t\tif (this.isAppleMobilePlatform) {\n\t\t\tif (!this.isUnderStandaloneMode) {\n\t\t\t\tthis.manualApple && this.hideDialog();\n\t\t\t\tsetTimeout(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.isInstallAvailable = true;\n\t\t\t\t\t\tthis.requestUpdate()\n\t\t\t\t\t\tUtils.eventInstallAvailable(this);\n\t\t\t\t\t},\n\t\t\t\t\t300\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.manualChrome && this.hideDialog();\n\t\t}\n\t}\n\n\tprivate _init = () => {\n\t\twindow.deferredEvent = null;\n\n\t\tthis._checkInstalled();\n\n\t\tif (!this.disableChrome)\n\t\t\twindow.addEventListener('beforeinstallprompt', (e: IBeforeInstallPromptEvent) => {\n\t\t\t\twindow.deferredEvent = e;\n\t\t\t\te.preventDefault();\n\n\t\t\t\tthis.platforms = e.platforms;\n\n\t\t\t\tif (this.isRelatedAppsInstalled || this.isUnderStandaloneMode) {\n\t\t\t\t\tthis.isInstallAvailable = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.isInstallAvailable = true;\n\t\t\t\t\tUtils.eventInstallAvailable(this);\n\t\t\t\t}\n\n\t\t\t\tif (this.userChoiceResult === 'accepted'){\n\t\t\t\t\tthis.isDialogHidden = true;\n\t\t\t\t\tUtils.eventInstalledSuccess(this);\n\t\t\t\t}\n\n\t\t\t\tthis.requestUpdate();\n\t\t\t});\n\n\t\twindow.addEventListener('appinstalled', (e) => {\n\t\t\twindow.deferredEvent = null;\n\t\t\tthis.isInstallAvailable = false;\n\n\t\t\tthis.requestUpdate();\n\t\t\tUtils.eventInstalledSuccess(this);\n\t\t});\n\n\n\t\tfetch(this.manifestUrl).then((response: Response) => {\n\t\t\tif (response.ok)\n\t\t\t\tresponse.json().then((_json) => {\n\t\t\t\t\tthis.icon = this.icon || _json.icons[0].src;\n\t\t\t\t\tthis.name = this.name || _json['short_name'] || _json.name;\n\t\t\t\t\tthis.description = this.description || _json.description;\n\n\t\t\t\t\tthis.manifest = _json;\n\t\t\t\t});\n\t\t\telse {\n\t\t\t\tthis.icon = this.icon || this.manifest.icons[0].src;\n\t\t\t\tthis.name = this.name || this.manifest['short_name'];\n\t\t\t\tthis.description = this.description || this.manifest.description;\n\t\t\t}\n\t\t});\n\n\t\t\n\t};\n\n\tconnectedCallback() {\n\t\tchangeLocale(navigator.language);\n\t\tthis._init();\n\t\tPWAGalleryElement.finalized;\n\t\tPWABottomSheetElement.finalized;\n\t\tsuper.connectedCallback();\n\t}\n\n\t// firstUpdated() {\n\t// \treturn;\n\t// }\n\n\trender() {\n\t\tif (this.isAppleMobilePlatform)\n\t\t\treturn html`${templateApple(\n\t\t\t\tthis.name, \n\t\t\t\tthis.description, \n\t\t\t\tthis.installDescription,\n\t\t\t\tthis.icon, \n\t\t\t\tthis.manifest,\n\t\t\t\tthis.isInstallAvailable && !this.isDialogHidden,\n\t\t\t\tthis._hideDialogUser,\n\t\t\t\tthis._howToForApple,\n\t\t\t\tthis._howToRequested,\n\t\t\t\tthis._toggleGallery,\n\t\t\t\tthis._galleryRequested\n\t\t\t)}`;\n\t\telse\n\t\t\treturn html`${template(\n\t\t\t\tthis.name, \n\t\t\t\tthis.description, \n\t\t\t\tthis.installDescription,\n\t\t\t\tthis.icon, \n\t\t\t\tthis.manifest,\n\t\t\t\tthis.isInstallAvailable && !this.isDialogHidden,\n\t\t\t\tthis._hideDialogUser,\n\t\t\t\tthis._install,\n\t\t\t\tthis._toggleGallery,\n\t\t\t\tthis._galleryRequested\n\t\t\t)}`;\n\t}\n}\n"],"names":["inProgress","dataWebpackPrefix","getLocale","setLocale","configureLocalization","sourceLocale","targetLocales","loadLocale","lang","changeLocale","slice","allLocales","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","keys","Object","module","exports","y","x","d","__WEBPACK_EXTERNAL_MODULE__lit_localize_dccaed14__","localized","msg","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","m","definition","key","defineProperty","enumerable","get","f","chunkId","reduce","promises","u","obj","prop","prototype","hasOwnProperty","call","l","url","done","push","script","needAttach","scripts","document","getElementsByTagName","i","length","s","getAttribute","createElement","type","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","fn","setTimeout","bind","target","head","appendChild","r","Symbol","toStringTag","value","p","installedChunks","j","installedChunkData","promise","reject","error","errorType","realSrc","message","name","request","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","self","__WEBPACK_EXTERNAL_MODULE_lit__","LitElement","css","html","__WEBPACK_EXTERNAL_MODULE_lit_decorators_js_226d44c5__","customElement","property","Manifest","constructor","this","icons","screenshots","short_name","description","scrollToNextPage","scrollToPrevPage","PWAGalleryElement","calcScrollSize","gallery","shadowRoot","querySelector","gallery_scroller","gallery_items","Array","from","querySelectorAll","gallery_item","find","item","offsetWidth","offsetLeft","scrollLeft","scroller","_tools","nextElementSibling","scrollTo","top","left","clientWidth","behavior","previousElementSibling","_init","styles","firstUpdated","connectedCallback","super","render","icon","install","PWABottomSheetElement","props","handleEvent","hideDialog","_callInstall","_callHide","setupAppearence","bindedElement","_saveBodyStyle","body","style","overscrollBehaviorY","dragMobileSheet","element","touchTargetElement","infoElement","dragOffset","bottomSize","clientHeight","getYCoord","clientY","changedTouches","dragMouseDown","window","addEventListener","dragMouseUp","dragMouseMove","getBoundingClientRect","innerHeight","closeDragElement","currentY","setProperty","toPoint","removeEventListener","innerWidth","passive","MouseEvent","touchElement","listener","parentElement","getElementsByClassName","createRenderRoot","_eventDispatcher","_element","CustomEvent","detail","dispatchEvent","Utils","static","includes","navigator","platform","userAgent","match","maxTouchPoints","matchMedia","matches","standalone","getInstalledRelatedApps","relatedApps","__WEBPACK_EXTERNAL_MODULE_lit_directives_class_map_js_2f88e643__","classMap","installDescription","manifest","installAvailable","toggleGallery","galleryRequested","installDialogClasses","available","howToForApple","howToRequested","PWAInstallElement","manifestUrl","manualApple","manualChrome","disableChrome","platforms","userChoiceResult","isDialogHidden","JSON","parse","sessionStorage","getItem","isInstallAvailable","isAppleMobilePlatform","isUnderStandaloneMode","isRelatedAppsInstalled","_howToRequested","_galleryRequested","_install","deferredEvent","prompt","userChoice","choiceResult","outcome","eventUserChoiceResult","catch","eventInstalledFail","requestUpdate","_hideDialog","setItem","_hideDialogUser","showDialog","forced","async","_howToForApple","_toggleGallery","_checkInstalled","preventDefault","eventInstallAvailable","eventInstalledSuccess","fetch","response","ok","json","_json","isStandalone","isAppleMobile","language","attribute","Boolean"],"sourceRoot":""}